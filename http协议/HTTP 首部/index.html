<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="shihr">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>HTTP 首部.md - Sink</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "HTTP \u9996\u90e8.md";
    var mkdocs_page_input_path = "http\u534f\u8bae\\HTTP \u9996\u90e8.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Sink</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">System</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../system/epel源/">epel源</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/rpms产出/">rpms产出</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/rsync配置/">rsync配置</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/主机不能连接mariadb/">主机不能连接mariadb</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/修改centos7语言/">修改centos7语言</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/修改mariadb编码类型/">修改mariadb编码类型</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/关闭selinux/">关闭selinux</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/开启图形界面/">开启图形界面</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/文本安装时磁盘可选/">文本安装时磁盘可选</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/改变系统时区/">改变系统时区</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/磁盘容量扩充/">磁盘容量扩充</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/网卡不存在/">网卡不存在</a>
                </li>
                <li class="">
                    
    <a class="" href="../../system/通过shell命令写文件/">通过shell命令写文件</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">虚拟机转换</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../虚拟机转换/libguestfs架构/">libguestfs架构</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换/以ova为例virt-v2v磁盘转换流程/">以ova为例virt-v2v磁盘转换流程</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换/virt-p2v-make-disk脚本分析/">virt-p2v-make-disk脚本分析</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换/virt-p2v介绍/">virt-p2v介绍</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换/virt-p2v磁盘转换流程/">virt-p2v磁盘转换流程</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换/VMware-ova转换/">VMware-ova转换</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换/VMware-vmx转换/">VMware-vmx转换</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换/VMware-vCenter转换/">VMware-vCenter转换</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换/VMware-ESXI-hypervisor转换/">VMware-ESXI-hypervisor转换</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换/VMware-vddk转换/">VMware-vddk转换</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换/Xen转换/">Xen转换</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">虚拟机转换脚本使用说明</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../虚拟机转换脚本使用说明/文档阅读说明/">文档阅读说明</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换脚本使用说明/转换服务器的搭建/">转换服务器的搭建</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换脚本使用说明/1.ova转换模式/">1.ova转换模式</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换脚本使用说明/2.vmx转换模式/">2.vmx转换模式</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换脚本使用说明/3.ESXi转换模式/">3.ESXi转换模式</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换脚本使用说明/4.vCenter转换模式/">4.vCenter转换模式</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换脚本使用说明/5.vddk转换模式/">5.vddk转换模式</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换脚本使用说明/6.xen转换模式/">6.xen转换模式</a>
                </li>
                <li class="">
                    
    <a class="" href="../../虚拟机转换脚本使用说明/转换到ovirt平台/">转换到ovirt平台</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Spice</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../spice/简介/">简介</a>
                </li>
                <li class="">
                    
    <a class="" href="../../spice/使用范例/">使用范例</a>
                </li>
                <li class="">
                    
    <a class="" href="../../spice/函数所在文件/">函数所在文件</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Python</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../python/event线程/">event线程</a>
                </li>
                <li class="">
                    
    <a class="" href="../../python/json格式处理/">json格式处理</a>
                </li>
                <li class="">
                    
    <a class="" href="../../python/执行shell命令/">执行shell命令</a>
                </li>
                <li class="">
                    
    <a class="" href="../../python/超时装饰器/">超时装饰器</a>
                </li>
                <li class="">
                    
    <a class="" href="../../python/@Property/">@Property</a>
                </li>
                <li class="">
                    
    <a class="" href="../../python/类属性和实例属性/">类属性和实例属性</a>
                </li>
                <li class="">
                    
    <a class="" href="../../python/高阶函数/">高阶函数</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Other</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../other/CSDN语法/">CSDN语法</a>
                </li>
                <li class="">
                    
    <a class="" href="../../other/h5ai美化目录/">h5ai美化目录</a>
                </li>
                <li class="">
                    
    <a class="" href="../../other/vdsm启动失败/">vdsm启动失败</a>
                </li>
                <li class="">
                    
    <a class="" href="../../other/制作iso镜像/">制作iso镜像</a>
                </li>
                <li class="">
                    
    <a class="" href="../../other/没有打印日志/">没有打印日志</a>
                </li>
                <li class="">
                    
    <a class="" href="../../other/编译安装vdsm之后主机安装失败/">编译安装vdsm之后主机安装失败</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Make</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../make/10.使用隐含规则/">10.使用隐含规则</a>
                </li>
                <li class="">
                    
    <a class="" href="../../make/11.使用make更新归档文件/">11.使用make更新归档文件</a>
                </li>
                <li class="">
                    
    <a class="" href="../../make/16.Makefile约定/">16.Makefile约定</a>
                </li>
                <li class="">
                    
    <a class="" href="../../make/4.编写规则/">4.编写规则</a>
                </li>
                <li class="">
                    
    <a class="" href="../../make/5.编写recipes/">5.编写recipes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../make/6.变量/">6.变量</a>
                </li>
                <li class="">
                    
    <a class="" href="../../make/7.Makefile中的条件语句/">7.Makefile中的条件语句</a>
                </li>
                <li class="">
                    
    <a class="" href="../../make/8.转换文本函数/">8.转换文本函数</a>
                </li>
                <li class="">
                    
    <a class="" href="../../make/简介/">简介</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">M4</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../m4/11.文本处理的宏/">11.文本处理的宏</a>
                </li>
                <li class="">
                    
    <a class="" href="../../m4/6.条件、循环、递归/">6.条件、循环、递归</a>
                </li>
                <li class="">
                    
    <a class="" href="../../m4/简介/">简介</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Java</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../java/IO/">IO</a>
                </li>
                <li class="">
                    
    <a class="" href="../../java/作用范围级别/">作用范围级别</a>
                </li>
                <li class="">
                    
    <a class="" href="../../java/synchronized关键字/">synchronized关键字</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">servlet</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../servlet/1.简介/">1.简介</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/2.生命周期/">2.生命周期</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/3.示例/">3.示例</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/4.过滤器/">4.过滤器</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/5.异常处理/">5.异常处理</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/6.Cookie/">6.Cookie</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/7.Session 跟踪/">7.Session 跟踪</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/8.文件上传/">8.文件上传</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/8.1文件下载/">8.1文件下载</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/9.重定向/">9.重定向</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/10.作用域/">10.作用域</a>
                </li>
                <li class="">
                    
    <a class="" href="../../servlet/11.监听器/">11.监听器</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Spring</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../spring/文件上传/">文件上传</a>
                </li>
                <li class="">
                    
    <a class="" href="../../spring/文件下载/">文件下载</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Spring Boot</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../springboot/1.说明/">1.说明</a>
                </li>
                <li class="">
                    
    <a class="" href="../../springboot/2.Maven/">2.Maven</a>
                </li>
                <li class="">
                    
    <a class="" href="../../springboot/24.Application 属性文件/">24.Application 属性文件</a>
                </li>
                <li class="">
                    
    <a class="" href="../../springboot/25.Profiles/">25.Profiles</a>
                </li>
                <li class="">
                    
    <a class="" href="../../springboot/26.日志/">26.日志</a>
                </li>
                <li class="">
                    
    <a class="" href="../../springboot/29.开发web应用/">29.开发web应用</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">设计模式</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../设计模式/设计原则/">设计原则</a>
                </li>
                <li class="">
                    
    <a class="" href="../../设计模式/模式/">模式</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">MyBatis</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../mybatis/简介/">简介.md</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mybatis/XML配置/">XML配置.md</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mybatis/注意事项/">注意事项.md</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">HTTP协议</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../简介/">简介.md</a>
                </li>
                <li class="">
                    
    <a class="" href="../HTTP 报文内的 HTTP 信息/">HTTP 报文内的 HTTP 信息.md</a>
                </li>
                <li class="">
                    
    <a class="" href="../返回结果的 HTTP 状态码/">返回结果的 HTTP 状态码.md</a>
                </li>
                <li class="">
                    
    <a class="" href="../与 HTTP 协作的 Web 服务器/">与 HTTP 协作的 Web 服务器.md</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">HTTP 首部.md</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#http">HTTP  报文首部</a></li>
    

    <li class="toctree-l3"><a href="#http_1">HTTP  首部字段</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#http_2">HTTP 首部字段结构</a></li>
        
            <li><a class="toctree-l4" href="#_1">各种字段概览</a></li>
        
            <li><a class="toctree-l4" href="#http11">非 HTTP/1.1 首部字段</a></li>
        
            <li><a class="toctree-l4" href="#end-to-end-hop-by-hop">End-to-end 首部和 Hop-by-hop 首部</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#http11_1">HTTP/1.1 通用首部字段</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#cache-control">Cache -Control</a></li>
        
            <li><a class="toctree-l4" href="#connecti-on">Connecti on</a></li>
        
            <li><a class="toctree-l4" href="#date">Date</a></li>
        
            <li><a class="toctree-l4" href="#pragma">Pragma</a></li>
        
            <li><a class="toctree-l4" href="#trailer">Trailer</a></li>
        
            <li><a class="toctree-l4" href="#transfer-encoding">Transfer-Encoding</a></li>
        
            <li><a class="toctree-l4" href="#upgrade">Upgrade</a></li>
        
            <li><a class="toctree-l4" href="#via">Via</a></li>
        
            <li><a class="toctree-l4" href="#warning">Warning</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#_2">请求首部字段</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#accept">Accept</a></li>
        
            <li><a class="toctree-l4" href="#accept-charset">Accept-Charset</a></li>
        
            <li><a class="toctree-l4" href="#accept-encoding">Accept-Encoding</a></li>
        
            <li><a class="toctree-l4" href="#accept-language">Accept-Language</a></li>
        
            <li><a class="toctree-l4" href="#authorization">Authorization</a></li>
        
            <li><a class="toctree-l4" href="#expect">Expect</a></li>
        
            <li><a class="toctree-l4" href="#from">From</a></li>
        
            <li><a class="toctree-l4" href="#host">Host</a></li>
        
            <li><a class="toctree-l4" href="#if-match">If-Match</a></li>
        
            <li><a class="toctree-l4" href="#if-none-match">If-None-Match</a></li>
        
            <li><a class="toctree-l4" href="#if-modified-since">If-Modified-Since</a></li>
        
            <li><a class="toctree-l4" href="#if-unmodified-since">If-Unmodified-Since</a></li>
        
            <li><a class="toctree-l4" href="#if-range">If-Range</a></li>
        
            <li><a class="toctree-l4" href="#max-forwards">Max-Forwards</a></li>
        
            <li><a class="toctree-l4" href="#proxy-authorization">Proxy-Authorization</a></li>
        
            <li><a class="toctree-l4" href="#range">Range</a></li>
        
            <li><a class="toctree-l4" href="#referer">Referer</a></li>
        
            <li><a class="toctree-l4" href="#te">TE</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#_3">响应首部字段</a></li>
    

    <li class="toctree-l3"><a href="#_4">实体首部字段</a></li>
    

    <li class="toctree-l3"><a href="#cookie">为 Cookie 服务的首部字段</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#set-cookie">Set-Cookie</a></li>
        
            <li><a class="toctree-l4" href="#cookie_1">Cookie</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#_5">其他首部字段</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../HTTPS/">HTTPS.md</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Linux网络编程</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../linux网络编程/函数/">函数</a>
                </li>
                <li class="">
                    
    <a class="" href="../../linux网络编程/socket通信流程/">socket通信流程</a>
                </li>
                <li class="">
                    
    <a class="" href="../../linux网络编程/简单tcp通信实现/">简单tcp通信实现</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Gluster</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../gluster/gluster安装/">gluster安装</a>
                </li>
                <li class="">
                    
    <a class="" href="../../gluster/ovirt的gluster数据恢复bug/">ovirt的gluster数据恢复bug</a>
                </li>
                <li class="">
                    
    <a class="" href="../../gluster/清理不可用的brick/">清理不可用的brick</a>
                </li>
                <li class="">
                    
    <a class="" href="../../gluster/结点故障/">结点故障</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Git</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../git/git rebase(修改历史提交)/">git rebase(修改历史提交)</a>
                </li>
                <li class="">
                    
    <a class="" href="../../git/windows无法使用git克隆/">windows无法使用git克隆</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Gerrit</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../gerrit/Apache代理添加新用户/">Apache代理添加新用户</a>
                </li>
                <li class="">
                    
    <a class="" href="../../gerrit/Gerrit submit change after abandoning its parent/">Gerrit submit change after abandoning its parent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../gerrit/使用Apache代理路径错误/">使用Apache代理路径错误</a>
                </li>
                <li class="">
                    
    <a class="" href="../../gerrit/刷新gerrit项目列表/">刷新gerrit项目列表</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Datastruct</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../datastruct/二叉树/">二叉树</a>
                </li>
                <li class="">
                    
    <a class="" href="../../datastruct/散列表/">散列表</a>
                </li>
                <li class="">
                    
    <a class="" href="../../datastruct/红黑树/">红黑树</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Command</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../command/linux挂载windows共享文件夹/">linux挂载windows共享文件夹</a>
                </li>
                <li class="">
                    
    <a class="" href="../../command/sed/">sed</a>
                </li>
                <li class="">
                    
    <a class="" href="../../command/ssh免密登录/">ssh免密登录</a>
                </li>
                <li class="">
                    
    <a class="" href="../../command/shell脚本自动输入/">shell脚本自动输入</a>
                </li>
                <li class="">
                    
    <a class="" href="../../command/创建文件自动添加执行权限/">创建文件自动添加执行权限</a>
                </li>
                <li class="">
                    
    <a class="" href="../../command/tar命令打包去掉路径前缀/">tar命令打包去掉路径前缀</a>
                </li>
                <li class="">
                    
    <a class="" href="../../command/wget用法/">wget用法</a>
                </li>
                <li class="">
                    
    <a class="" href="../../command/显示文件夹大小/">显示文件夹大小</a>
                </li>
                <li class="">
                    
    <a class="" href="../../command/更新、禁用yum仓库、只下载rpm/">更新、禁用yum仓库、只下载rpm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../command/添加公钥/">添加公钥</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">C and c++</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../c and c++/动态编译/">动态编译</a>
                </li>
                <li class="">
                    
    <a class="" href="../../c and c++/程序运行时间/">程序运行时间</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Bash</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../bash/3.基本shell功能/">3.基本shell功能</a>
                </li>
                <li class="">
                    
    <a class="" href="../../bash/4.shell内置命令/">4.shell内置命令</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Automake</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../automake/10.其它GNU工具/">10.其它GNU工具</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/12.安装/">12.安装</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/13.清理/">13.清理</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/14.发布/">14.发布</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/15.测试套件的支持/">15.测试套件的支持</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/18.规则杂项/">18.规则杂项</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/19.Include/">19.Include</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/20.条件语句/">20.条件语句</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/23.Automake不能满足使用时/">23.Automake不能满足使用时</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/5.创建Makefile.in/">5.创建Makefile.in</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/6.扫描configure.ac，使用aclocal/">6.扫描configure.ac，使用aclocal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/7.文件夹/">7.文件夹</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/8.构建程序和库/">8.构建程序和库</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/9.其它派生对象/">9.其它派生对象</a>
                </li>
                <li class="">
                    
    <a class="" href="../../automake/简介/">简介</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Autogen</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../autogen/简介/">简介</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Autoconf</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../autoconf/10.编写Autoconf宏/">10.编写Autoconf宏</a>
                </li>
                <li class="">
                    
    <a class="" href="../../autoconf/11.便携式shell编程/">11.便携式shell编程</a>
                </li>
                <li class="">
                    
    <a class="" href="../../autoconf/14.手动配置/">14.手动配置</a>
                </li>
                <li class="">
                    
    <a class="" href="../../autoconf/15.Site配置/">15.Site配置</a>
                </li>
                <li class="">
                    
    <a class="" href="../../autoconf/4.初始化和输出文件/">4.初始化和输出文件</a>
                </li>
                <li class="">
                    
    <a class="" href="../../autoconf/5.现有测试/">5.现有测试</a>
                </li>
                <li class="">
                    
    <a class="" href="../../autoconf/6.编写测试/">6.编写测试</a>
                </li>
                <li class="">
                    
    <a class="" href="../../autoconf/7.测试结果/">7.测试结果</a>
                </li>
                <li class="">
                    
    <a class="" href="../../autoconf/8.使用M4编程/">8.使用M4编程</a>
                </li>
                <li class="">
                    
    <a class="" href="../../autoconf/9.使用M4sh编程/">9.使用M4sh编程</a>
                </li>
                <li class="">
                    
    <a class="" href="../../autoconf/简介/">简介</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Algorithm</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../algorithm/复杂度分析/">复杂度分析</a>
                </li>
                <li class="">
                    
    <a class="" href="../../algorithm/选择排序/">选择排序</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Sink</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>HTTP协议 &raquo;</li>
        
      
    
    <li>HTTP 首部.md</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>HTTP  首部结构，以及首部中各字段的用法。</p>
<h1 id="http">HTTP  报文首部</h1>
<p>参考 <a href="../HTTP 报文内的 HTTP 信息/">HTTP 报文内的 HTTP 信息</a>，本书主要涉及 HTTP/1.1 及常用的首部字段。</p>
<h1 id="http_1">HTTP  首部字段</h1>
<h2 id="http_2">HTTP 首部字段结构</h2>
<pre><code class="json">首部字段名: 字段值1,字段值2,...
</code></pre>

<p>HTTP  首部字段重复的处理方式根据浏览器内部的逻辑决定。</p>
<h2 id="_1">各种字段概览</h2>
<p><img alt="请求首部字段" src="../img/请求首部字段.png" /></p>
<p><img alt="响应首部字段" src="../img/响应首部字段.png" /></p>
<p><img alt="通用首部字段" src="../img/通用首部字段.png" /></p>
<p><img alt="实体首部字段" src="../img/实体首部字段.png" /></p>
<h2 id="http11">非 HTTP/1.1 首部字段</h2>
<p>不限于 RFC2616 中定义的 47 种首部字段，其它非正式的首部字段统一归纳在 RFC4229 HTTP  Header Field
Registrations 中。</p>
<h2 id="end-to-end-hop-by-hop">End-to-end 首部和 Hop-by-hop 首部</h2>
<p>HTTP  首部字段将定义成缓存代理和非缓存代理的行为，分成 2 种类型。</p>
<ul>
<li>端到端首部（End-to-end  Header）</li>
</ul>
<blockquote>
<p>分在此类别中的首部会转发给请求 /  响应对应的最终接收目标，且必须保存在由缓存生成的响应中，另外规定它必须被转发。</p>
</blockquote>
<ul>
<li>逐跳首部（Hop-by-hop  Header）</li>
</ul>
<blockquote>
<p>分在此类别中的首部只对单次转发有效，会因通过缓存或代理而不再转发。HTTP/1.1 和之后版本中，如果要使用 hop-by -hop 首部，需提供 Connection  首部字段。</p>
</blockquote>
<p>除这 8 个首部字段之外，其他所有字段都属于端到端首部：</p>
<ul>
<li>Connection</li>
<li>Keep-Alive</li>
<li>Proxy-Authenticate</li>
<li>Proxy-Authorization</li>
<li>Trailer</li>
<li>TE</li>
<li>Transfer-Encoding</li>
<li>Upgrade</li>
</ul>
<h1 id="http11_1">HTTP/1.1 通用首部字段</h1>
<h2 id="cache-control">Cache -Control</h2>
<p>控制缓存的行为。</p>
<p>指令一览：</p>
<p><img alt="" src="../img/缓存请求指令.png" /></p>
<p><img alt="" src="../img/缓存响应指令.png" /></p>
<p>详细说明参考《图解HTTP》6.3.1 节。</p>
<h2 id="connecti-on">Connecti on</h2>
<ul>
<li>
<p>控制不再转发给代理的首部字段</p>
<blockquote>
<p>Connection: 不再转发的首部字段名</p>
</blockquote>
</li>
<li>
<p>管理持久连接</p>
<blockquote>
<p>Connection: close/Keep-Alive</p>
<p>HTTP/1.1之后默认是持久化连接；之前是非持久化连接。使用此首部改变连接的持久化状态。</p>
</blockquote>
</li>
</ul>
<h2 id="date">Date</h2>
<p>HTTP/1.1 协议使用在 RFC1123 中规定的日期时间的格式：</p>
<pre><code class="json">Date: Tue, 03 Jul 2012 04:40:59 GMT
</code></pre>

<p>前的 HTTP  协议版本中使用在 RFC850 中定义的格式：</p>
<pre><code class="json">Date: Tue, 03-Jul-12 04:40:59 GMT
</code></pre>

<p>还有一种格式。它与 C 标准库内的 asct im e() 函数的输出格式一致：</p>
<pre><code class="json">Date: Tue Jul 03 04:40:59 2012
</code></pre>

<h2 id="pragma">Pragma</h2>
<p>Pragma 是 HTTP/1.1 之前版本的历史遗留字段，仅作为与 HTTP/1.0的向后兼容而定义。</p>
<pre><code class="json">Pragma: no-cache
</code></pre>

<p>该首部字段属于通用首部字段，但只用在客户端发送的请求中。客户端会要求所有的中间服务器不返回缓存的资源。</p>
<p>发送的请求会同时含有下面两个首部字段来保证所有版本的HTTP协议有相同的缓存方式：</p>
<pre><code class="json">Cache-Control: no-cache
Pragma: no-cache
</code></pre>

<h2 id="trailer">Trailer</h2>
<p>Trailer 会事先说明在报文主体后记录了哪些首部字段。该首部字段可应用在 HTTP/1.1 版本分块传输编码时。</p>
<pre><code class="json">...
Trailer: Expires
...(报文主体)...
Expires: Tue, 28 Sep 2004 23:59:59 GMT
</code></pre>

<h2 id="transfer-encoding">Transfer-Encoding</h2>
<p>规定了传输报文主体时采用的编码方式。仅对分块传输编码有效。</p>
<pre><code class="json">...
Transfer-Encoding: chunked
Connection: keep-alive
cf0    ←16进制(10进制为3312)
...3312字节分块数据...
392    ←16进制(10进制为914)
...914字节分块数据...
0
</code></pre>

<h2 id="upgrade">Upgrade</h2>
<p>用于检测 HTTP  协议及其他协议是否可使用更高的版本进行通信，其参数值可以用来指定一个完全不同的通信协议。</p>
<p>Upgrade 首部字段产生作用的 Upgrade 对象仅限于客户端和邻接服务器之间。因此，使用首部字段 Upgrade 时，还需要额外指定<code>Connection :Upgrade</code>。</p>
<p>服务器可用 <code>101 Switching Protocols</code> 状态码作为响应返回。</p>
<h2 id="via">Via</h2>
<p>为了追踪客户端与服务器之间的请求和响应报文的传输路径。</p>
<p>报文经过代理或网关时，会先在首部字段 Via 中附加该服务器的信息，然后再进行转发。</p>
<p>首部字段 Via 不仅用于追踪报文的转发，还可避免请求回环的发生，所以必须在经过代理时附加该首部字段内容。</p>
<p>Via 首部是为了追踪传输路径，所以经常会和 TRACE 方法一起使用。</p>
<h2 id="warning">Warning</h2>
<p>该首部通常会告知用户一些与缓存相关的问题的警告。</p>
<p>格式（日期可省略）：</p>
<pre><code class="json">Warning: [警告码][警告的主机:端口号]“[警告内容]”([日期时间])
</code></pre>

<p><img alt="" src="../img/警告码.png" /></p>
<h1 id="_2">请求首部字段</h1>
<p>用于补充请求的附加信息、客户端信息、对响应内容相关的优先级等内容。</p>
<h2 id="accept">Accept</h2>
<p>Accept  首部字段可通知服务器，用户代理能够处理的媒体类型及媒体类型的相对优先级。可使用 <code>type/subtype</code> 这种形式，一次指定多种媒体类型。</p>
<p>使用 q= 来额外表示权重值，用分号（;）进行分隔。范围是 0~1（可精确到小数点后 3 位），且 1 为最大值，默认值是1.0。</p>
<p>例子，优先发送plain文本文件：</p>
<pre><code class="json">Accept: text/html; q=0.5, text/plain 
</code></pre>

<h2 id="accept-charset">Accept-Charset</h2>
<p>Accept-Charset  首部字段可用来通知服务器用户代理支持的字符集及字符集的相对优先顺序。也可指定权重值。</p>
<p>该首部字段应用于内容协商机制的服务器驱动协商。</p>
<h2 id="accept-encoding">Accept-Encoding</h2>
<p>Accept-Encoding  首部字段用来告知服务器用户代理支持的内容编码及内容编码的优先级顺序。</p>
<pre><code class="json">Accept-Encoding: gzip, deflate
</code></pre>

<ul>
<li>gzip （GNU zip）</li>
<li>compress（UNIX  系统的标准压缩）</li>
<li>deflate （zlib ）</li>
<li>identity（不进行编码）</li>
</ul>
<p>采用权重 q 值来表示相对优先级，也可使用星号（*）作为通配符，指定任意的编码格式。</p>
<h2 id="accept-language">Accept-Language</h2>
<p>Accept-Language 用来告知服务器用户代理能够处理的自然语言集（指中文或英文等），以及自然语言集的相对优先级。</p>
<p>支持 q 值。</p>
<h2 id="authorization">Authorization</h2>
<p>Authorization  是用来告知服务器，用户代理的认证信息（证书值）。通常，想要通过服务器认证的用户代理会在接收到返回的 401 状态码响应后，把首部字段 Authorization  加入请求中。</p>
<h2 id="expect">Expect</h2>
<p>Expect  来告知服务器，期望出现的某种特定行为。</p>
<p>因服务器无法理解客户端的期望作出回应而发生错误时，会返回状态码 417 Expectation  Failed。</p>
<p>等待状态码 100 响应的客户端在发生请求时，需要指定 <code>Expectt :100-continue</code>。</p>
<h2 id="from">From</h2>
<p>用来告知服务器使用用户代理的用户的电子邮件地址。使用代理时，应尽可能包含 From  首部字段（但
可能会因代理不同，将电子邮件地址记录在 User-Agent  首部字段内）。</p>
<h2 id="host">Host</h2>
<p>告知服务器请求的资源所处的互联网主机名和端口号。唯一一个必须被包含在请求内的首部字段。</p>
<p>若服务器未设定主机名，那直接发送一个空值即可。</p>
<h2 id="if-match">If-Match</h2>
<p>形如 If-xxx  这种样式的请求首部字段，都可称为条件请求。服务器接收到附带条件的请求后，只有判断指定条件为真时，才会执行请求。否则返回状态码 <code>412 Precondition Failed</code> 的响应。</p>
<p>If-Match 它会告知服务器匹配资源所用的实体标记（ETag ）值。这时的服务器无法使用弱 ETag  值。</p>
<p>还可以使用星号（*）指定 If -Match  的字段值。针对这种情况，服务器将会忽略 ETag  的值，只要资源存在就处理请求。</p>
<h2 id="if-none-match">If-None-Match</h2>
<p>与 If-Match 相反。在 GET 或 HEAD 方法中使用首部字段 If-None-Match  可获取最新的资源。</p>
<h2 id="if-modified-since">If-Modified-Since</h2>
<p>它会告知服务器若 If-Modified-Since 字段值早于资源的更新时间，则希望能处理该请求。如果请求的资源都没有过更新，则返回状态码 <code>304 Not Modified</code> 的响应。</p>
<p>用于确认代理或客户端拥有的本地资源的有效性。获取资源的更新日期时间，可通过确认首部字段 Last-Modified 来确
定。</p>
<h2 id="if-unmodified-since">If-Unmodified-Since</h2>
<p>和首部字段 If-Modified-Since 的作用相反。如果在指定日期时间后发生了更新，则以状态码 <code>412 Precondition Failed</code> 作为响应返回。</p>
<h2 id="if-range">If-Range</h2>
<p>它告知服务器若指定的 If-Range 字段值（ETag  值或者时间）和请求资源的 ETag  值或时间相一致时，则作为范围请求处理。反之，则返回全体资源。</p>
<h2 id="max-forwards">Max-Forwards</h2>
<p>通过 TRACE 方法或 OPTIONS 方法，发送包含首部字段 Max-Forwards 的请求时，该字段以十进制整数形式指定可经过的服务器最大数目。每次转发数值减 1。当数值变 0 时直接返回响应。</p>
<h2 id="proxy-authorization">Proxy-Authorization</h2>
<p>接收到从代理服务器发来的认证质询时，客户端会发送包含该首部字段的请求，以告知服务器认证所需要的信息。</p>
<p>这个行为是与客户端和服务器之间的 HTTP 访问认证相类似的，不同之处在于，认证行为发生在客户端与代理之间。客户端与服务器之间的认证，使用首部字段 Authorization  可起到相同作用。</p>
<h2 id="range">Range</h2>
<p>对于只需获取部分资源的范围请求，包含首部字段 Range 即可告知服务器资源的指定范围。</p>
<p>处理请求之后返回状态码为 <code>206 Partial Content</code> 的响应。无法处理该范围请求时，则会返回状态码 200 OK 的响应及全部资源。</p>
<h2 id="referer">Referer</h2>
<p>会告知服务器请求的原始资源的 URI。</p>
<h2 id="te">TE</h2>
<p>告知服务器客户端能够处理响应的传输编码方式及相对优先级。它和首部字段 Accept-Encoding  的功能很相像，但是用于传输编码。</p>
<p>还可以指定伴随 trailer 字段的分块传输编码的方式。应用后者时，只需把 trailers 赋值给该字段值：</p>
<pre><code class="json">TE: trailers
</code></pre>

<h1 id="_3">响应首部字段</h1>
<p>用于补充响应的附加信息、服务器信息，以及对客户端的附加要求等信息。</p>
<p>参考《图解HTTP》6.5 节</p>
<p>强 ETag  值，不论实体发生多么细微的变化都会改变其值。</p>
<p>弱 ETag  值只用于提示资源是否相同。只有资源发生了根本改变，产生差异时才会改变 ETag 值。这时，会在字段值最开始处附加 <code>W/</code>。</p>
<h1 id="_4">实体首部字段</h1>
<p>用于补充内容的更新时间等与实体相关的信息。</p>
<p>参考《图解HTTP》6.6 节</p>
<h1 id="cookie">为 Cookie 服务的首部字段</h1>
<p>Cookie 的工作机制是用户识别及状态管理。</p>
<p><img alt="cookie首部字段" src="../img/cookie首部字段.png" /></p>
<h2 id="set-cookie">Set-Cookie</h2>
<p>当服务器准备开始管理客户端的状态时，会事先告知各种信息。</p>
<p>Set-Cookie  字段的属性</p>
<p><img alt="set-cookie字段属性" src="../img/set-cookie字段属性.png" /></p>
<p><strong>expires</strong></p>
<blockquote>
<p>指定浏览器可发送 Cookie 的有效期。</p>
<p>当省略 expires 属性时，其有效期仅限于维持浏览器会话（Session ）
时间段内。</p>
<p>另外，一旦 Cookie  从服务器端发送至客户端，服务器端就不存在可
以显式删除 Cookie  的方法。但可通过覆盖已过期的 Cookie ，实现对
客户端 Cookie  的实质性删除操作。</p>
</blockquote>
<p><strong>path</strong></p>
<blockquote>
<p>可用于限制指定 Cookie 的发送范围的文件目录。</p>
</blockquote>
<p><strong>domain</strong></p>
<blockquote>
<p>通过 Cookie 的 domain 属性指定的域名可做到与结尾匹配一致。</p>
<p>因此，除了针对具体指定的多个域名发送 Cookie 之 外，不指定
domain  属性显得更安全。</p>
</blockquote>
<p><strong>secure</strong></p>
<blockquote>
<p>Cookie 的 secure 属性用于限制 Web 页面仅在 HTTPS 安全连接时，才
可以发送 Cookie。</p>
</blockquote>
<p>格式：</p>
<pre><code class="http">Set-Cookie: name=value; secure
</code></pre>

<p><strong>HttpOnly</strong></p>
<blockquote>
<p>是 Cookie 的扩展功能，它使 JavaScript  脚本
无法获得 Cookie。其主要目的为防止跨站脚本攻击（Cross-site scripting ，XSS）对 Cookie 的信息窃取。</p>
</blockquote>
<p>格式：</p>
<pre><code class="http">Set-Cookie: name=value; HttpOnly
</code></pre>

<h2 id="cookie_1">Cookie</h2>
<pre><code class="http">Cookie: status=enable
</code></pre>

<p>首部字段 Cookie 会告知服务器，当客户端想获得 HTTP  状态管理支持时，就会在请求中包含从服务器接收到的 Cookie。接收到多个 Cookie 时，同样可以以多个 Cookie 形式发送。</p>
<h1 id="_5">其他首部字段</h1>
<p>主要是保护不受攻击的字段。</p>
<p>参考《图解HTTP》6.8 节</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../HTTPS/" class="btn btn-neutral float-right" title="HTTPS.md">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../与 HTTP 协作的 Web 服务器/" class="btn btn-neutral" title="与 HTTP 协作的 Web 服务器.md"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../与 HTTP 协作的 Web 服务器/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../HTTPS/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
