参考资料：

- [vmware 对于 VDI 的介绍](https://www.vmware.com/topics/glossary/content/virtual-desktop-infrastructure-vdi)
- [citrix 对于 VDI 的介绍](https://www.citrix.com/en-hk/glossary/vdi.html)
- [对 vmware、citrix、microsoft 提供的 VDI 技术简介](https://searchvirtualdesktop.techtarget.com/definition/virtual-desktop-infrastructure-VDI)

## VDI 是什么及如何工作

**VDI (Virtual Desktop Infrastructure)** 是一项使用虚拟机提供和管理虚拟桌面的技术。VDI 把虚拟桌面托管在集中式服务器上面并且，并根据请求将其部署到终端用户。

在 VDI 中，虚拟机管理程序（[hypervisor](https://www.vmware.com/topics/glossary/content/hypervisor)）将服务器划分为多个虚拟机，这些虚拟机进而托管虚拟桌面，然后用户可以从他们自己的设备远程访问虚拟桌面。用户可以从从任何设备、任何地点访问这些虚拟桌面，并且所有的处理都在主机服务器上完成。用户通过一个连接代理（其充当用户和服务器之间的中介的基于软件的网关）连接到他们的桌面实例。

VDI 可以分为持久性和非持久性。各有不同的优点：

- **persistent VDI**：用户每次连接到的都是同一个桌面，因为每次连接被重置后所作的改变都会被保留下来，所以用户可以根据需求个性化自己的桌面。换言之，使用持久性的 VDI ，虚拟桌面就像个人物理机桌面一样。
- **nonpersistent VDI**：用户连接到的是普通桌面并且所做的修改不会被保存，通常更简单、更便宜，因为在会话（session）之间不必维护定制的桌面。非持久性 VDI 通常用于有大量任务工作者的组织，或者执行有限的重复性任务且不需要定制桌面的员工。

## VDI 的优点

- **远程访问**：VDI 用户可以从任意地点或设备连接到虚拟桌面；
- **节省花销**：因为处理都在服务器端完成，所以终端设备的硬件要求更低；
- **安全**：在一个 VDI 中，数据存储在服务器上面而不是终端设备。这样一来，在终端设备被盗或泄露时就可以保护数据；
- **集中管理**：VDI 的集中式形式允许 IT 人员轻松地对系统中的所有虚拟桌面进行补丁、更新或配置。

## VDI 与 桌面虚拟化 的不同之处

桌面虚拟化是一个通用术语，指的是任何将桌面环境与访问桌面环境的硬件分离开来的技术。VDI 即是一种桌面虚拟化的类型，但桌面虚拟化还有其他的实现方式，比如 remote desktop services（RDS），用户连接到一个运行在远程服务器的共享桌面。

## VDI 与 虚拟机 的不同之处

虚拟机是为 VDI 提供支持的技术。VM 是通过使用管理程序（hypervisor）将物理服务器划分为多个虚拟服务器而创建的软件“机器”（这一技术也被称作[服务器虚拟化](https://www.vmware.com/topics/glossary/content/server-virtualization)）。虚拟机可用于许多应用程序，其中之一是在 VDI 环境中运行虚拟桌面。

## 如何实现 VDI

在计划 VDI 部署时，大型企业应考虑在 HCI 环境中实施它，因为 HCI 的可伸缩性和高性能很自然地满足了 VDI 的资源需求。另一方面，对于需要少于100个虚拟桌面的组织来说，为 VDI 实施 HCI 可能没有必要(而且成本过高)。

除了基础设施方面的考虑，在实现 VDI 时还需要遵循一些最佳实践：

- **准备网络**： VDI 的性能与网络性能密切相关，重要的是要了解高峰使用时间并预测需求高峰，以确保有足够的网络容量；
- **避免供应不足**：使用性能监视工具提前执行容量规划，以了解每个虚拟桌面消耗的资源，并确保了解总体资源消耗需求；
- **理解终端用户的需求**：您的用户是否需要能够自定义其桌面，或者他们是可以在通用桌面上工作的任务员工？您的用户的性能要求是什么？ 您需要为使用图形密集型应用程序的用户和仅需要访问Internet或一个或两个简单应用程序的用户提供不同的设置；
- **执行试点测试**：大多数虚拟化提供商都提供测试工具，您可以使用这些工具预先运行测试 VDI 部署; 这样做很重要，以确保您正确地分配了资源。