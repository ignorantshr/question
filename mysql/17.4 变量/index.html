<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="author" content="shihr"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>17.4 变量 - Person Sink</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><script src="../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../assets/fonts/material-icons.css"></head><body dir="ltr"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#1" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="../.." title="Person Sink" class="md-header-nav__button md-logo"><i class="md-icon"></i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Person Sink</span><span class="md-header-nav__topic">17.4 变量</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/shihr/question/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="../.." title="Person Sink" class="md-nav__button md-logo"><i class="md-icon"></i></a>Person Sink</label><div class="md-nav__source"><a href="https://github.com/shihr/question/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../.." title="Home" class="md-nav__link">Home</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">System</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">System</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../system/epel源/" title="epel源" class="md-nav__link">epel源</a></li><li class="md-nav__item"><a href="../../system/主机不能连接mariadb/" title="主机不能连接mariadb" class="md-nav__link">主机不能连接mariadb</a></li><li class="md-nav__item"><a href="../../system/修改centos7语言/" title="修改centos7语言" class="md-nav__link">修改centos7语言</a></li><li class="md-nav__item"><a href="../../system/修改mariadb编码类型/" title="修改mariadb编码类型" class="md-nav__link">修改mariadb编码类型</a></li><li class="md-nav__item"><a href="../../system/关闭selinux/" title="关闭selinux" class="md-nav__link">关闭selinux</a></li><li class="md-nav__item"><a href="../../system/开启图形界面/" title="开启图形界面" class="md-nav__link">开启图形界面</a></li><li class="md-nav__item"><a href="../../system/文本安装时磁盘可选/" title="文本安装时磁盘可选" class="md-nav__link">文本安装时磁盘可选</a></li><li class="md-nav__item"><a href="../../system/改变系统时区/" title="改变系统时区" class="md-nav__link">改变系统时区</a></li><li class="md-nav__item"><a href="../../system/磁盘容量扩充/" title="磁盘容量扩充" class="md-nav__link">磁盘容量扩充</a></li><li class="md-nav__item"><a href="../../system/网卡不存在/" title="网卡不存在" class="md-nav__link">网卡不存在</a></li><li class="md-nav__item"><a href="../../system/删除网桥/" title="删除网桥" class="md-nav__link">删除网桥</a></li><li class="md-nav__item"><a href="../../system/Linux逻辑卷划分示意图/" title="Linux逻辑卷划分示意图" class="md-nav__link">Linux逻辑卷划分示意图</a></li><li class="md-nav__item"><a href="../../system/软链接与硬链接/" title="软链接与硬链接" class="md-nav__link">软链接与硬链接</a></li><li class="md-nav__item"><a href="../../system/Linux下查看文件类型/" title="Linux下查看文件类型" class="md-nav__link">Linux下查看文件类型</a></li><li class="md-nav__item"><a href="../../system/Linux文件系统层次结构标准FHS/" title="Linux文件系统层次结构标准FHS" class="md-nav__link">Linux文件系统层次结构标准FHS</a></li><li class="md-nav__item"><a href="../../system/centos重启卡死/" title="Centos重启卡死" class="md-nav__link">Centos重启卡死</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">命令</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">命令</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../命令/linux挂载windows共享文件夹/" title="linux挂载windows共享文件夹" class="md-nav__link">linux挂载windows共享文件夹</a></li><li class="md-nav__item"><a href="../../命令/sed/" title="sed" class="md-nav__link">sed</a></li><li class="md-nav__item"><a href="../../命令/ssh免密登录/" title="ssh免密登录" class="md-nav__link">ssh免密登录</a></li><li class="md-nav__item"><a href="../../命令/创建文件自动添加执行权限/" title="创建文件自动添加执行权限" class="md-nav__link">创建文件自动添加执行权限</a></li><li class="md-nav__item"><a href="../../命令/tar命令打包去掉路径前缀/" title="tar命令打包去掉路径前缀" class="md-nav__link">tar命令打包去掉路径前缀</a></li><li class="md-nav__item"><a href="../../命令/wget用法/" title="wget用法" class="md-nav__link">wget用法</a></li><li class="md-nav__item"><a href="../../命令/显示文件夹大小/" title="显示文件夹大小" class="md-nav__link">显示文件夹大小</a></li><li class="md-nav__item"><a href="../../命令/更新、禁用yum仓库、只下载rpm/" title="更新、禁用yum仓库、只下载rpm" class="md-nav__link">更新、禁用yum仓库、只下载rpm</a></li><li class="md-nav__item"><a href="../../命令/添加公钥/" title="添加公钥" class="md-nav__link">添加公钥</a></li><li class="md-nav__item"><a href="../../命令/locate初始化/" title="Locate初始化" class="md-nav__link">Locate初始化</a></li><li class="md-nav__item"><a href="../../命令/rsync/" title="Rsync" class="md-nav__link">Rsync</a></li><li class="md-nav__item"><a href="../../命令/echo的颜色输出与光标定位/" title="Echo的颜色输出与光标定位" class="md-nav__link">Echo的颜色输出与光标定位</a></li><li class="md-nav__item"><a href="../../命令/xargs与管道/" title="Xargs与管道" class="md-nav__link">Xargs与管道</a></li><li class="md-nav__item"><a href="../../命令/trap/" title="Trap" class="md-nav__link">Trap</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4"><label class="md-nav__link" for="nav-4">Shell</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">Shell</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../shell/shell脚本自动输入/" title="Shell脚本自动输入" class="md-nav__link">Shell脚本自动输入</a></li><li class="md-nav__item"><a href="../../shell/命令行编写循环体/" title="命令行编写循环体" class="md-nav__link">命令行编写循环体</a></li><li class="md-nav__item"><a href="../../shell/在后台执行命令/" title="在后台执行命令" class="md-nav__link">在后台执行命令</a></li><li class="md-nav__item"><a href="../../shell/通过shell命令写文件/" title="通过shell命令写文件" class="md-nav__link">通过shell命令写文件</a></li><li class="md-nav__item"><a href="../../shell/截取字符串/" title="截取字符串" class="md-nav__link">截取字符串</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5"><label class="md-nav__link" for="nav-5">Python</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">Python</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../python/event线程/" title="event线程" class="md-nav__link">event线程</a></li><li class="md-nav__item"><a href="../../python/json格式处理/" title="json格式处理" class="md-nav__link">json格式处理</a></li><li class="md-nav__item"><a href="../../python/执行shell命令/" title="执行shell命令" class="md-nav__link">执行shell命令</a></li><li class="md-nav__item"><a href="../../python/超时装饰器/" title="超时装饰器" class="md-nav__link">超时装饰器</a></li><li class="md-nav__item"><a href="../../python/@Property/" title="@Property" class="md-nav__link">@Property</a></li><li class="md-nav__item"><a href="../../python/类属性和实例属性/" title="类属性和实例属性" class="md-nav__link">类属性和实例属性</a></li><li class="md-nav__item"><a href="../../python/高阶函数/" title="高阶函数" class="md-nav__link">高阶函数</a></li><li class="md-nav__item"><a href="../../python/获取命令行参数/" title="获取命令行参数" class="md-nav__link">获取命令行参数</a></li><li class="md-nav__item"><a href="../../python/asyncore模块/" title="Asyncore模块" class="md-nav__link">Asyncore模块</a></li><li class="md-nav__item"><a href="../../python/select模块/" title="Select模块" class="md-nav__link">Select模块</a></li><li class="md-nav__item"><a href="../../python/subprocess模块/" title="Subprocess模块" class="md-nav__link">Subprocess模块</a></li><li class="md-nav__item"><a href="../../python/mkdown2reStructuredText/" title="mkdown2reStructuredText" class="md-nav__link">mkdown2reStructuredText</a></li><li class="md-nav__item"><a href="../../python/上下文管理器/" title="上下文管理器" class="md-nav__link">上下文管理器</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6"><label class="md-nav__link" for="nav-6">鸟哥的linux私房菜</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">鸟哥的linux私房菜</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../鸟哥的linux私房菜/00 linux帮助文档/" title="00 linux帮助文档" class="md-nav__link">00 linux帮助文档</a></li><li class="md-nav__item"><a href="../../鸟哥的linux私房菜/01 正确的关机方法/" title="01 正确的关机方法" class="md-nav__link">01 正确的关机方法</a></li><li class="md-nav__item"><a href="../../鸟哥的linux私房菜/03 文件类型与目录权限/" title="03 文件类型与目录权限" class="md-nav__link">03 文件类型与目录权限</a></li><li class="md-nav__item"><a href="../../鸟哥的linux私房菜/04 文件查阅/" title="04 文件查阅" class="md-nav__link">04 文件查阅</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7"><label class="md-nav__link" for="nav-7">其它</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-7">其它</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../其它/CSDN语法/" title="CSDN语法" class="md-nav__link">CSDN语法</a></li><li class="md-nav__item"><a href="../../其它/h5ai美化目录/" title="h5ai美化目录" class="md-nav__link">h5ai美化目录</a></li><li class="md-nav__item"><a href="../../其它/vdsm启动失败/" title="vdsm启动失败" class="md-nav__link">vdsm启动失败</a></li><li class="md-nav__item"><a href="../../其它/制作iso镜像/" title="制作iso镜像" class="md-nav__link">制作iso镜像</a></li><li class="md-nav__item"><a href="../../其它/没有打印日志/" title="没有打印日志" class="md-nav__link">没有打印日志</a></li><li class="md-nav__item"><a href="../../其它/编译安装vdsm之后主机安装失败/" title="编译安装vdsm之后主机安装失败" class="md-nav__link">编译安装vdsm之后主机安装失败</a></li><li class="md-nav__item"><a href="../../其它/Stomp协议/" title="Stomp协议" class="md-nav__link">Stomp协议</a></li><li class="md-nav__item"><a href="../../其它/Windows格式化磁盘/" title="Windows格式化磁盘" class="md-nav__link">Windows格式化磁盘</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8"><label class="md-nav__link" for="nav-8">Ansible</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-8">Ansible</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../ansible/01. 简介/" title="01. 简介" class="md-nav__link">01. 简介</a></li><li class="md-nav__item"><a href="../../ansible/02. Inventory文件/" title="02. Inventory文件" class="md-nav__link">02. Inventory文件</a></li><li class="md-nav__item"><a href="../../ansible/03. playbooks-roles/" title="03. playbooks roles" class="md-nav__link">03. playbooks roles</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9"><label class="md-nav__link" for="nav-9">RPM</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-9">RPM</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../rpm/00 示例/" title="00 示例" class="md-nav__link">00 示例</a></li><li class="md-nav__item"><a href="../../rpm/01 打包前的准备工作/" title="01 打包前的准备工作" class="md-nav__link">01 打包前的准备工作</a></li><li class="md-nav__item"><a href="../../rpm/02 打包软件/" title="02 打包软件" class="md-nav__link">02 打包软件</a></li><li class="md-nav__item"><a href="../../rpm/03 高级话题/" title="03 高级话题" class="md-nav__link">03 高级话题</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10"><label class="md-nav__link" for="nav-10">Java</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-10">Java</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../java/IO/" title="IO" class="md-nav__link">IO</a></li><li class="md-nav__item"><a href="../../java/作用范围级别/" title="作用范围级别" class="md-nav__link">作用范围级别</a></li><li class="md-nav__item"><a href="../../java/synchronized关键字/" title="synchronized关键字" class="md-nav__link">synchronized关键字</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11"><label class="md-nav__link" for="nav-11">servlet</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-11">servlet</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../servlet/1.简介/" title="1.简介" class="md-nav__link">1.简介</a></li><li class="md-nav__item"><a href="../../servlet/2.生命周期/" title="2.生命周期" class="md-nav__link">2.生命周期</a></li><li class="md-nav__item"><a href="../../servlet/3.示例/" title="3.示例" class="md-nav__link">3.示例</a></li><li class="md-nav__item"><a href="../../servlet/4.过滤器/" title="4.过滤器" class="md-nav__link">4.过滤器</a></li><li class="md-nav__item"><a href="../../servlet/5.异常处理/" title="5.异常处理" class="md-nav__link">5.异常处理</a></li><li class="md-nav__item"><a href="../../servlet/6.Cookie/" title="6.Cookie" class="md-nav__link">6.Cookie</a></li><li class="md-nav__item"><a href="../../servlet/7.Session 跟踪/" title="7.Session 跟踪" class="md-nav__link">7.Session 跟踪</a></li><li class="md-nav__item"><a href="../../servlet/8.文件上传/" title="8.文件上传" class="md-nav__link">8.文件上传</a></li><li class="md-nav__item"><a href="../../servlet/8.1文件下载/" title="8.1文件下载" class="md-nav__link">8.1文件下载</a></li><li class="md-nav__item"><a href="../../servlet/9.重定向/" title="9.重定向" class="md-nav__link">9.重定向</a></li><li class="md-nav__item"><a href="../../servlet/10.作用域/" title="10.作用域" class="md-nav__link">10.作用域</a></li><li class="md-nav__item"><a href="../../servlet/11.监听器/" title="11.监听器" class="md-nav__link">11.监听器</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12"><label class="md-nav__link" for="nav-12">Spring</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-12">Spring</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../spring/文件上传/" title="文件上传" class="md-nav__link">文件上传</a></li><li class="md-nav__item"><a href="../../spring/文件下载/" title="文件下载" class="md-nav__link">文件下载</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13"><label class="md-nav__link" for="nav-13">Spring Boot</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-13">Spring Boot</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../springboot/1.说明/" title="1.说明" class="md-nav__link">1.说明</a></li><li class="md-nav__item"><a href="../../springboot/2.Maven/" title="2.Maven" class="md-nav__link">2.Maven</a></li><li class="md-nav__item"><a href="../../springboot/24.Application 属性文件/" title="24.Application 属性文件" class="md-nav__link">24.Application 属性文件</a></li><li class="md-nav__item"><a href="../../springboot/25.Profiles/" title="25.Profiles" class="md-nav__link">25.Profiles</a></li><li class="md-nav__item"><a href="../../springboot/26.日志/" title="26.日志" class="md-nav__link">26.日志</a></li><li class="md-nav__item"><a href="../../springboot/29.开发web应用/" title="29.开发web应用" class="md-nav__link">29.开发web应用</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14"><label class="md-nav__link" for="nav-14">设计模式</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-14">设计模式</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../设计模式/设计原则/" title="设计原则" class="md-nav__link">设计原则</a></li><li class="md-nav__item"><a href="../../设计模式/模式/" title="模式" class="md-nav__link">模式</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15" checked><label class="md-nav__link" for="nav-15">MySQL</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-15">MySQL</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../1. 简介/" title="1. 简介" class="md-nav__link">1. 简介</a></li><li class="md-nav__item"><a href="../2. 关系模型/" title="2. 关系模型" class="md-nav__link">2. 关系模型</a></li><li class="md-nav__item"><a href="../3. 管理数据库/" title="3. 管理数据库" class="md-nav__link">3. 管理数据库</a></li><li class="md-nav__item"><a href="../4. 查询数据/" title="4. 查询数据" class="md-nav__link">4. 查询数据</a></li><li class="md-nav__item"><a href="../5. 修改数据/" title="5. 修改数据" class="md-nav__link">5. 修改数据</a></li><li class="md-nav__item"><a href="../6. 事务/" title="6. 事务" class="md-nav__link">6. 事务</a></li><li class="md-nav__item"><a href="../7. 实用SQL语句/" title="7. 实用SQL语句" class="md-nav__link">7. 实用SQL语句</a></li><li class="md-nav__item"><a href="../8. MySQL数据类型/" title="8. MySQL数据类型" class="md-nav__link">8. MySQL数据类型</a></li><li class="md-nav__item"><a href="../9. MySQL的运算符/" title="9. MySQL的运算符" class="md-nav__link">9. MySQL的运算符</a></li><li class="md-nav__item"><a href="../10. MySQL常用函数/" title="10. MySQL常用函数" class="md-nav__link">10. MySQL常用函数</a></li><li class="md-nav__item"><a href="../11. MySQL存储引擎/" title="11. MySQL存储引擎" class="md-nav__link">11. MySQL存储引擎</a></li><li class="md-nav__item"><a href="../12. MySQL数据类型的选择/" title="12. MySQL数据类型的选择" class="md-nav__link">12. MySQL数据类型的选择</a></li><li class="md-nav__item"><a href="../13. MySQL字符集/" title="13. MySQL字符集" class="md-nav__link">13. MySQL字符集</a></li><li class="md-nav__item"><a href="../14. MySQL索引的设计和使用/" title="14. MySQL索引的设计和使用" class="md-nav__link">14. MySQL索引的设计和使用</a></li><li class="md-nav__item"><a href="../15. MySQL视图/" title="15. MySQL视图" class="md-nav__link">15. MySQL视图</a></li><li class="md-nav__item"><a href="../16. MySQL存储过程和函数/" title="16. MySQL存储过程和函数" class="md-nav__link">16. MySQL存储过程和函数</a></li><li class="md-nav__item"><a href="../17.0 MySQL复合语句/" title="17.0 MySQL复合语句" class="md-nav__link">17.0 MySQL复合语句</a></li><li class="md-nav__item"><a href="../17.1 BEGIN...END复合语句/" title="17.1 BEGIN...END复合语句" class="md-nav__link">17.1 BEGIN...END复合语句</a></li><li class="md-nav__item"><a href="../17.2 语句标签/" title="17.2 语句标签" class="md-nav__link">17.2 语句标签</a></li><li class="md-nav__item"><a href="../17.3 声明语法/" title="17.3 声明语法" class="md-nav__link">17.3 声明语法</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">17.4 变量</label><a href="./" title="17.4 变量" class="md-nav__link md-nav__link--active">17.4 变量</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#1" title="1. 定义变量" class="md-nav__link">1. 定义变量</a></li><li class="md-nav__item"><a href="#2" title="2. 使用限制" class="md-nav__link">2. 使用限制</a></li><li class="md-nav__item"><a href="#3" title="3. 局部变量" class="md-nav__link">3. 局部变量</a></li></ul></nav></li><li class="md-nav__item"><a href="../17.5 流程控制/" title="17.5 流程控制" class="md-nav__link">17.5 流程控制</a></li><li class="md-nav__item"><a href="../17.6 游标/" title="17.6 游标" class="md-nav__link">17.6 游标</a></li><li class="md-nav__item"><a href="../17.7 错误状况及处理/" title="17.7 错误状况及处理" class="md-nav__link">17.7 错误状况及处理</a></li><li class="md-nav__item"><a href="../17.8 SIGNAL/" title="17.8 SIGNAL" class="md-nav__link">17.8 SIGNAL</a></li><li class="md-nav__item"><a href="../17.9 RESIGNAL/" title="17.9 RESIGNAL" class="md-nav__link">17.9 RESIGNAL</a></li><li class="md-nav__item"><a href="../18. MySQL触发器/" title="18. MySQL触发器" class="md-nav__link">18. MySQL触发器</a></li><li class="md-nav__item"><a href="../19. MySQL事务与锁定语句/" title="19. MySQL事务与锁定语句" class="md-nav__link">19. MySQL事务与锁定语句</a></li><li class="md-nav__item"><a href="../20. SQL中的安全问题/" title="20. SQL中的安全问题" class="md-nav__link">20. SQL中的安全问题</a></li><li class="md-nav__item"><a href="../21. SQL Mode/" title="21. SQL Mode" class="md-nav__link">21. SQL Mode</a></li><li class="md-nav__item"><a href="../22. 常用 SQL 技巧和常见问题/" title="22. 常用 SQL 技巧和常见问题" class="md-nav__link">22. 常用 SQL 技巧和常见问题</a></li><li class="md-nav__item"><a href="../23. MySQL分区/" title="23. MySQL分区" class="md-nav__link">23. MySQL分区</a></li><li class="md-nav__item"><a href="../24. MySQL分区限制/" title="24. MySQL分区限制" class="md-nav__link">24. MySQL分区限制</a></li><li class="md-nav__item"><a href="../25. SQL优化/" title="25. SQL优化" class="md-nav__link">25. SQL优化</a></li><li class="md-nav__item"><a href="../26. 优化数据库对象/" title="26. 优化数据库对象" class="md-nav__link">26. 优化数据库对象</a></li><li class="md-nav__item"><a href="../27. 锁/" title="27. 锁" class="md-nav__link">27. 锁</a></li><li class="md-nav__item"><a href="../28. MySQL Server的优化/" title="28. MySQL Server的优化" class="md-nav__link">28. MySQL Server的优化</a></li><li class="md-nav__item"><a href="../29. MySQL磁盘 IO 问题/" title="29. MySQL磁盘 IO 问题" class="md-nav__link">29. MySQL磁盘 IO 问题</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16"><label class="md-nav__link" for="nav-16">MyBatis</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-16">MyBatis</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../mybatis/简介/" title="简介.md" class="md-nav__link">简介.md</a></li><li class="md-nav__item"><a href="../../mybatis/XML配置/" title="XML配置.md" class="md-nav__link">XML配置.md</a></li><li class="md-nav__item"><a href="../../mybatis/注意事项/" title="注意事项.md" class="md-nav__link">注意事项.md</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-17" type="checkbox" id="nav-17"><label class="md-nav__link" for="nav-17">HTTP协议</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-17">HTTP协议</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../http协议/简介/" title="简介.md" class="md-nav__link">简介.md</a></li><li class="md-nav__item"><a href="../../http协议/HTTP 报文内的 HTTP 信息/" title="HTTP 报文内的 HTTP 信息.md" class="md-nav__link">HTTP 报文内的 HTTP 信息.md</a></li><li class="md-nav__item"><a href="../../http协议/返回结果的 HTTP 状态码/" title="返回结果的 HTTP 状态码.md" class="md-nav__link">返回结果的 HTTP 状态码.md</a></li><li class="md-nav__item"><a href="../../http协议/与 HTTP 协作的 Web 服务器/" title="与 HTTP 协作的 Web 服务器.md" class="md-nav__link">与 HTTP 协作的 Web 服务器.md</a></li><li class="md-nav__item"><a href="../../http协议/HTTP 首部/" title="HTTP 首部.md" class="md-nav__link">HTTP 首部.md</a></li><li class="md-nav__item"><a href="../../http协议/HTTPS/" title="HTTPS.md" class="md-nav__link">HTTPS.md</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-18" type="checkbox" id="nav-18"><label class="md-nav__link" for="nav-18">CS50</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-18">CS50</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../CS50/1. 简介/" title="简介" class="md-nav__link">简介</a></li><li class="md-nav__item"><a href="../../CS50/2. 编译器/" title="编译器" class="md-nav__link">编译器</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-19" type="checkbox" id="nav-19"><label class="md-nav__link" for="nav-19">Linux网络编程</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-19">Linux网络编程</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../linux网络编程/函数/" title="函数" class="md-nav__link">函数</a></li><li class="md-nav__item"><a href="../../linux网络编程/socket通信流程/" title="socket通信流程" class="md-nav__link">socket通信流程</a></li><li class="md-nav__item"><a href="../../linux网络编程/简单tcp通信实现/" title="简单tcp通信实现" class="md-nav__link">简单tcp通信实现</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-20" type="checkbox" id="nav-20"><label class="md-nav__link" for="nav-20">Gluster</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-20">Gluster</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../gluster/gluster安装/" title="gluster安装" class="md-nav__link">gluster安装</a></li><li class="md-nav__item"><a href="../../gluster/ovirt的gluster数据恢复bug/" title="ovirt的gluster数据恢复bug" class="md-nav__link">ovirt的gluster数据恢复bug</a></li><li class="md-nav__item"><a href="../../gluster/清理不可用的brick/" title="清理不可用的brick" class="md-nav__link">清理不可用的brick</a></li><li class="md-nav__item"><a href="../../gluster/结点故障/" title="结点故障" class="md-nav__link">结点故障</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-21" type="checkbox" id="nav-21"><label class="md-nav__link" for="nav-21">Docker</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-21">Docker</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../docker/01. 入门-安装/" title="01. 入门 安装" class="md-nav__link">01. 入门 安装</a></li><li class="md-nav__item"><a href="../../docker/02. 入门-容器/" title="02. 入门 容器" class="md-nav__link">02. 入门 容器</a></li><li class="md-nav__item"><a href="../../docker/03. 入门-服务/" title="03. 入门 服务" class="md-nav__link">03. 入门 服务</a></li><li class="md-nav__item"><a href="../../docker/04. 入门-集群/" title="04. 入门 集群" class="md-nav__link">04. 入门 集群</a></li><li class="md-nav__item"><a href="../../docker/05. 入门-栈/" title="05. 入门 栈" class="md-nav__link">05. 入门 栈</a></li><li class="md-nav__item"><a href="../../docker/06. 使用docker镜像/" title="06. 使用docker镜像" class="md-nav__link">06. 使用docker镜像</a></li><li class="md-nav__item"><a href="../../docker/07. 容器操作/" title="07. 容器操作" class="md-nav__link">07. 容器操作</a></li><li class="md-nav__item"><a href="../../docker/08. docker仓库/" title="08. docker仓库" class="md-nav__link">08. docker仓库</a></li><li class="md-nav__item"><a href="../../docker/09. Docker数据管理/" title="09. Docker数据管理" class="md-nav__link">09. Docker数据管理</a></li><li class="md-nav__item"><a href="../../docker/10 端口映射与容器互联/" title="10 端口映射与容器互联" class="md-nav__link">10 端口映射与容器互联</a></li><li class="md-nav__item"><a href="../../docker/11. Dockerfile/" title="11. Dockerfile" class="md-nav__link">11. Dockerfile</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-22" type="checkbox" id="nav-22"><label class="md-nav__link" for="nav-22">Git</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-22">Git</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../git/git rebase(修改历史提交)/" title="git rebase(修改历史提交)" class="md-nav__link">git rebase(修改历史提交)</a></li><li class="md-nav__item"><a href="../../git/windows无法使用git克隆/" title="windows无法使用git克隆" class="md-nav__link">windows无法使用git克隆</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-23" type="checkbox" id="nav-23"><label class="md-nav__link" for="nav-23">Gerrit</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-23">Gerrit</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../gerrit/Apache代理添加新用户/" title="Apache代理添加新用户" class="md-nav__link">Apache代理添加新用户</a></li><li class="md-nav__item"><a href="../../gerrit/Gerrit submit change after abandoning its parent/" title="Gerrit submit change after abandoning its parent" class="md-nav__link">Gerrit submit change after abandoning its parent</a></li><li class="md-nav__item"><a href="../../gerrit/使用Apache代理路径错误/" title="使用Apache代理路径错误" class="md-nav__link">使用Apache代理路径错误</a></li><li class="md-nav__item"><a href="../../gerrit/刷新gerrit项目列表/" title="刷新gerrit项目列表" class="md-nav__link">刷新gerrit项目列表</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-24" type="checkbox" id="nav-24"><label class="md-nav__link" for="nav-24">Datastruct</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-24">Datastruct</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../datastruct/二叉树/" title="二叉树" class="md-nav__link">二叉树</a></li><li class="md-nav__item"><a href="../../datastruct/散列表/" title="散列表" class="md-nav__link">散列表</a></li><li class="md-nav__item"><a href="../../datastruct/红黑树/" title="红黑树" class="md-nav__link">红黑树</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-25" type="checkbox" id="nav-25"><label class="md-nav__link" for="nav-25">C</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-25">C</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../c/动态编译/" title="动态编译" class="md-nav__link">动态编译</a></li><li class="md-nav__item"><a href="../../c/程序运行时间/" title="程序运行时间" class="md-nav__link">程序运行时间</a></li><li class="md-nav__item"><a href="../../c/结构体中的函数指针/" title="结构体中的函数指针" class="md-nav__link">结构体中的函数指针</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-26" type="checkbox" id="nav-26"><label class="md-nav__link" for="nav-26">Algorithm</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-26">Algorithm</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../algorithm/复杂度分析/" title="复杂度分析" class="md-nav__link">复杂度分析</a></li><li class="md-nav__item"><a href="../../algorithm/选择排序/" title="选择排序" class="md-nav__link">选择排序</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-27" type="checkbox" id="nav-27"><label class="md-nav__link" for="nav-27">奇技淫巧</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-27">奇技淫巧</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../奇技淫巧/位运算/" title="位运算" class="md-nav__link">位运算</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#1" title="1. 定义变量" class="md-nav__link">1. 定义变量</a></li><li class="md-nav__item"><a href="#2" title="2. 使用限制" class="md-nav__link">2. 使用限制</a></li><li class="md-nav__item"><a href="#3" title="3. 局部变量" class="md-nav__link">3. 局部变量</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/shihr/question/edit/master/docs/mysql/17.4 变量.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1>17.4 变量</h1><div class="toc">
<ul>
<li><a href="#1">1. 定义变量</a></li>
<li><a href="#2">2. 使用限制</a></li>
<li><a href="#3">3. 局部变量</a></li>
</ul>
</div>
<p>用户自定义变量：<code>@var_name</code>。可以由<code>字母、数字、点、下划线、$</code>组成，大小写不敏感。</p>
<p>存储在<code>session</code>中，只在当前客户端中起作用，退出时清除所有自定义变量。</p>
<h2 id="1">1. 定义变量<a class="headerlink" href="#1" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><span class="cm">/* 1.SET语法赋值 */</span>
<span class="kt">SET</span> <span class="o">@</span><span class="n">var_name</span> <span class="err">{</span><span class="o">=</span> <span class="o">|</span> <span class="p">:</span><span class="o">=</span><span class="err">}</span> <span class="n">expr</span> <span class="p">[,</span> <span class="o">@</span><span class="n">var_name</span> <span class="o">=</span> <span class="n">expr</span><span class="p">]</span> <span class="p">...</span>
<span class="cm">/* 2.通过查询将结果赋给变量，这要求查询返回的结果必须只有一行 */</span>
<span class="k">SELECT</span> <span class="n">col_name</span><span class="p">[,...]</span> <span class="k">INTO</span> <span class="o">@</span><span class="n">var_name</span><span class="p">[,...]</span> <span class="n">table_expr</span>
<span class="cm">/* 3.通过游标赋值 */</span>
<span class="k">FETCH</span> <span class="p">[[</span><span class="n">NEXT</span><span class="p">]</span> <span class="k">FROM</span><span class="p">]</span> <span class="n">cursor_name</span> <span class="k">INTO</span> <span class="n">var_name</span> <span class="p">[,</span> <span class="n">var_name</span><span class="p">]</span> <span class="p">...</span>

<span class="cm">/* 表达式举例 */</span>
<span class="cm">/* 表达式的结果只能是单一字段，并且只能有一个值 */</span>
<span class="n">MariaDB</span> <span class="p">[</span><span class="n">MYISAM_TEST</span><span class="p">]</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="o">@</span><span class="n">V2</span><span class="o">=</span><span class="p">(</span><span class="k">SELECT</span> <span class="nf">COUNT</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">PARENT</span><span class="p">);</span>
<span class="n">MariaDB</span> <span class="p">[</span><span class="n">MYISAM_TEST</span><span class="p">]</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">ID</span> <span class="k">INTO</span> <span class="o">@</span><span class="n">RESULT</span> <span class="k">FROM</span> <span class="n">CHILD</span> <span class="k">WHERE</span> <span class="n">ID</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</pre></div>


<p>值的类型有以下几种：</p>
<ul>
<li>整数</li>
<li>定点数</li>
<li>浮点数</li>
<li>二进制或非二进制字符串。如果赋予了非二进制（character）的字符串，就和字符串具有相同的字符集与排序规则。十六进制和比特类型的值被认为是二进制字符串，也可以通过转换使用它的数字形式。</li>
<li>NULL </li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="o">@</span><span class="n">v1</span> <span class="o">=</span> <span class="n">X</span><span class="s1">&#39;41&#39;</span><span class="p">;</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="o">@</span><span class="n">v2</span> <span class="o">=</span> <span class="n">X</span><span class="s1">&#39;41&#39;</span><span class="o">+</span><span class="mi">0</span><span class="p">;</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="o">@</span><span class="n">v3</span> <span class="o">=</span> <span class="nf">CAST</span><span class="p">(</span><span class="n">X</span><span class="s1">&#39;41&#39;</span> <span class="k">AS</span> <span class="k">UNSIGNED</span><span class="p">);</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">@</span><span class="n">v1</span><span class="p">,</span> <span class="o">@</span><span class="n">v2</span><span class="p">,</span> <span class="o">@</span><span class="n">v3</span><span class="p">;</span>
<span class="o">+------+------+------+</span>
<span class="o">|</span> <span class="o">@</span><span class="n">v1</span>  <span class="o">|</span> <span class="o">@</span><span class="n">v2</span>  <span class="o">|</span> <span class="o">@</span><span class="n">v3</span>  <span class="o">|</span>
<span class="o">+------+------+------+</span>
<span class="o">|</span> <span class="n">A</span>    <span class="o">|</span>   <span class="mi">65</span> <span class="o">|</span>   <span class="mi">65</span> <span class="o">|</span>
<span class="o">+------+------+------+</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="o">@</span><span class="n">v1</span> <span class="o">=</span> <span class="n">b</span><span class="s1">&#39;1000001&#39;</span><span class="p">;</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="o">@</span><span class="n">v2</span> <span class="o">=</span> <span class="n">b</span><span class="s1">&#39;1000001&#39;</span><span class="o">+</span><span class="mi">0</span><span class="p">;</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="o">@</span><span class="n">v3</span> <span class="o">=</span> <span class="nf">CAST</span><span class="p">(</span><span class="n">b</span><span class="s1">&#39;1000001&#39;</span> <span class="k">AS</span> <span class="k">UNSIGNED</span><span class="p">);</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">@</span><span class="n">v1</span><span class="p">,</span> <span class="o">@</span><span class="n">v2</span><span class="p">,</span> <span class="o">@</span><span class="n">v3</span><span class="p">;</span>
<span class="o">+------+------+------+</span>
<span class="o">|</span> <span class="o">@</span><span class="n">v1</span>  <span class="o">|</span> <span class="o">@</span><span class="n">v2</span>  <span class="o">|</span> <span class="o">@</span><span class="n">v3</span>  <span class="o">|</span>
<span class="o">+------+------+------+</span>
<span class="o">|</span> <span class="n">A</span>    <span class="o">|</span>   <span class="mi">65</span> <span class="o">|</span>   <span class="mi">65</span> <span class="o">|</span>
<span class="o">+------+------+------+</span>
</pre></div>


<p>也可以通过其他方式定义变量：</p>
<div class="codehilite"><pre><span></span><span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="o">@</span><span class="n">t1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">@</span><span class="n">t2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">@</span><span class="n">t3</span><span class="p">:</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">@</span><span class="n">t1</span><span class="p">,</span> <span class="o">@</span><span class="n">t2</span><span class="p">,</span> <span class="o">@</span><span class="n">t3</span><span class="p">,</span> <span class="o">@</span><span class="n">t4</span> <span class="p">:</span><span class="o">=</span> <span class="o">@</span><span class="n">t1</span><span class="o">+@</span><span class="n">t2</span><span class="o">+@</span><span class="n">t3</span><span class="p">;</span>
<span class="o">+------+------+------+--------------------+</span>
<span class="o">|</span> <span class="o">@</span><span class="n">t1</span>  <span class="o">|</span> <span class="o">@</span><span class="n">t2</span>  <span class="o">|</span> <span class="o">@</span><span class="n">t3</span>  <span class="o">|</span> <span class="o">@</span><span class="n">t4</span> <span class="p">:</span><span class="o">=</span> <span class="o">@</span><span class="n">t1</span><span class="o">+@</span><span class="n">t2</span><span class="o">+@</span><span class="n">t3</span> <span class="o">|</span>
<span class="o">+------+------+------+--------------------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>    <span class="mi">4</span> <span class="o">|</span>                  <span class="mi">7</span> <span class="o">|</span>
<span class="o">+------+------+------+--------------------+</span>
</pre></div>


<h2 id="2">2. 使用限制<a class="headerlink" href="#2" title="Permanent link">&para;</a></h2>
<p>如果在结果集中选择了用户变量的值，则会将其作为字符串返回给客户端。？？？</p>
<p><strong>规定</strong>：除了在<code>SET</code>语句中，不要在同一条语句中对变量赋值并读取。</p>
<p>在SELECT语句中，仅在发送到客户端时评估每个select表达式，这意味着在<code>HAVING</code>, <code>GROUP BY</code>, or <code>ORDER BY</code>中引用变量不会返回正常的结果。</p>
<p>变量不能直接用作SQL语句中的<strong>标识符</strong>或标识符的一部分，加了引号也没用。例如<code>SELECT</code>语句中的表名。一个<strong>例外</strong>是，当构造一个字符串以用作稍后执行的预准备语句时。</p>
<div class="codehilite"><pre><span></span><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SET</span> <span class="o">@</span><span class="k">c</span> <span class="o">=</span> <span class="ss">&quot;c1&quot;</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SET</span> <span class="o">@</span><span class="n">s</span> <span class="o">=</span> <span class="n">CONCAT</span><span class="p">(</span><span class="ss">&quot;SELECT &quot;</span><span class="p">,</span> <span class="o">@</span><span class="k">c</span><span class="p">,</span> <span class="ss">&quot; FROM t&quot;</span><span class="p">);</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">PREPARE</span> <span class="n">stmt</span> <span class="k">FROM</span> <span class="o">@</span><span class="n">s</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">04</span> <span class="n">sec</span><span class="p">)</span>
<span class="k">Statement</span> <span class="n">prepared</span>

<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">EXECUTE</span> <span class="n">stmt</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+</span>
<span class="o">|</span> <span class="n">c1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+</span>
<span class="o">|</span>  <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+</span>
<span class="mi">2</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">DEALLOCATE</span> <span class="k">PREPARE</span> <span class="n">stmt</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>


<h2 id="3">3. 局部变量<a class="headerlink" href="#3" title="Permanent link">&para;</a></h2>
<p>存储程序使用<code>DECLARE</code>声明局部变量，在<code>BEGIN...END</code>语句或嵌套的块中使用。</p>
<div class="codehilite"><pre><span></span><span class="k">DECLARE</span> <span class="n">var_name</span> <span class="p">[,</span> <span class="n">var_name</span><span class="p">]</span> <span class="p">...</span> <span class="n">type</span> <span class="p">[</span><span class="k">DEFAULT</span> <span class="n">value</span><span class="p">]</span>
</pre></div>


<ul>
<li>如果有默认值的话必须是<strong>常量</strong>，没有的话初始值是<code>NULL</code>。</li>
<li>变量声明必须在处理器和游标声明之前。</li>
<li>大小写不敏感。</li>
<li>可以在嵌套的程序块中使用变量，除了嵌套的块中声明了同名的变量。</li>
<li>只作用于存储过程或函数的运行期间，不允许在存储程序的预准备语句中引用（预准备语句的作用域是当前客户端的session）。</li>
</ul>
<p>例子：</p>
<div class="codehilite"><pre><span></span><span class="n">MariaDB</span> <span class="p">[</span><span class="n">MYISAM_TEST</span><span class="p">]</span><span class="o">&gt;</span> <span class="n">delimiter</span> <span class="o">//</span>
<span class="n">MariaDB</span> <span class="p">[</span><span class="n">MYISAM_TEST</span><span class="p">]</span><span class="o">&gt;</span> <span class="k">CREATE</span> <span class="n">FUNCTION</span> <span class="nf">get_date</span><span class="p">()</span> <span class="n">RETURNS</span> <span class="kt">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="n">BEGIN</span> <span class="k">DECLARE</span> <span class="n">RESULT</span> <span class="kt">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="k">SELECT</span> <span class="nf">DATE_FORMAT</span><span class="p">(</span><span class="k">CURRENT_DATE</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-%d&#39;</span><span class="p">)</span> <span class="k">INTO</span> <span class="n">RESULT</span><span class="p">;</span> <span class="k">RETURN</span> <span class="n">RESULT</span><span class="p">;</span> <span class="n">END</span> <span class="o">//</span>
<span class="n">MariaDB</span> <span class="p">[</span><span class="n">MYISAM_TEST</span><span class="p">]</span><span class="o">&gt;</span> <span class="n">delimiter</span> <span class="p">;</span>

<span class="n">MariaDB</span> <span class="p">[</span><span class="n">MYISAM_TEST</span><span class="p">]</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="o">@</span><span class="n">RE</span><span class="o">=</span><span class="nf">get_date</span><span class="p">();</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">MariaDB</span> <span class="p">[</span><span class="n">MYISAM_TEST</span><span class="p">]</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">@</span><span class="n">RE</span><span class="p">;</span>
<span class="o">+------------+</span>
<span class="o">|</span> <span class="o">@</span><span class="n">RE</span>        <span class="o">|</span>
<span class="o">+------------+</span>
<span class="o">|</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">13</span> <span class="o">|</span>
<span class="o">+------------+</span>
</pre></div></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../17.3 声明语法/" title="17.3 声明语法" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>17.3 声明语法</span></div></a><a href="../17.5 流程控制/" title="17.5 流程控制" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>17.5 流程控制</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script></body></html>